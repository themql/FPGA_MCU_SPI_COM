# FPGA 与 MCU 简易spi通信

## 0. Intro

​        本仓库实现两种基于SPI的FPGA与MCU通讯方式：类SRAM接口与指令解析。

​        不论哪种方式，MCU都是通过修改FPGA内部一些控制寄存器的值实现对FPGA硬件的控制。在类SRAM接口方式中，每一个控制寄存器与数据寄存器的读写都被分配了唯一的地址，通过指定地址，即可实现对目标寄存器的读或写操作。在指令解析方式中，则是通过状态机对MCU发送的指令进行解析，实现对目标寄存器的读写。

​        本仓库分为两个部分，essential中实现了基本的读写功能，即寄存器的读写、FIFO的读写与DPRAM的读写，simpleDSP中实现了简单的数字信号处理功能，包括信号采样、FFT与IFFT、FIR滤波。

​        实验中使用了Intel的IP核，并提供相应的仿真，具体的软硬件平台如下表所示。

| 平台          |           |
| ----------- |:--------- |
| FPGA        | EP4CE15   |
| MCU         | STM32F407 |
| 软件          |           |
| Quartus     |           |
| Keil        |           |
| STM32CubeMX |           |

## 1. 目录结构



## 2. 类SRAM



## 3. 指令解析



## 4. simpleDSP
